<style>
    .arrow {
        position: absolute;
        font-weight: 900;
        color: red;
        text-shadow: 3px 3px 0 black, -3px -3px 0 black,
                     3px -3px 0 black, -3px 3px 0 black;
        pointer-events: none;
        user-select: none;
        z-index: 4;
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.5s ease;
    }
</style>

<script>
const ARROWS = 15;           // сколько стрелок появляется за раз
const ARROW_CYCLE_TIME = 2500; // полный цикл (появились → исчезли)

function spawnArrows() {
    clearArrows();

    const btn = document.getElementById("trustButton");
    const rect = btn.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    for (let i = 0; i < ARROWS; i++) {
        const arrow = document.createElement("div");
        arrow.className = "arrow";

        // Рандомная длина
        arrow.innerHTML = "➤".repeat(10 + Math.random() * 30);

        // Где появится стрелка (края экрана)
        let x, y;
        const side = Math.floor(Math.random() * 4);

        if (side === 0) { 
            x = Math.random() * window.innerWidth;
            y = 0;
        } else if (side === 1) { 
            x = Math.random() * window.innerWidth;
            y = window.innerHeight - 10;
        } else if (side === 2) { 
            x = 0;
            y = Math.random() * window.innerHeight;
        } else { 
            x = window.innerWidth - 10;
            y = Math.random() * window.innerHeight;
        }

        // Угол к центру кнопки
        const dx = centerX - x;
        const dy = centerY - y;
        const angle = Math.atan2(dy, dx) * 180 / Math.PI;

        arrow.style.left = x + "px";
        arrow.style.top = y + "px";
        arrow.style.transform = `rotate(${angle}deg)`;
        arrow.style.fontSize = (40 + Math.random() * 60) + "px";

        document.body.appendChild(arrow);

        // Плавное появление (через 10 мс чтобы сработал transition)
        setTimeout(() => { arrow.style.opacity = 1; }, 10);

        // Исчезновение перед удалением
        setTimeout(() => { arrow.style.opacity = 0; }, ARROW_CYCLE_TIME - 600);
    }
}

function clearArrows() {
    document.querySelectorAll(".arrow").forEach(el => el.remove());
}

// Запуск мигания стрелок каждые 2.5 секунды
window.onload = function () {
    spawnArrows();
    setInterval(spawnArrows, ARROW_CYCLE_TIME);
};

// Когда начинается видео — стрелки исчезают
function showVideo() {
    clearArrows();
    document.getElementById("mainContent").style.display = "none";
    document.getElementById("videoWrapper").style.display = "block";

    const vid = document.getElementById("prankVideo");
    vid.src = "video.mp4";

    vid.play().catch(()=>{});
    setTimeout(() => { vid.muted = false; vid.play(); }, 300);
}
</script>
