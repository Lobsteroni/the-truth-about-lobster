<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Trust me</title>

<style>
:root {
    --arrow-z: 1000;
}

/* –°–±—Ä–æ—Å */
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    background: #000;
    font-family: Arial, sans-serif;
    color: #fff;
}

/* –§–û–ù ‚Äî —Ç–≤–æ—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ background.png */
.bg{
    position: fixed;
    inset:0;
    background-image: url("background.png"); /* ‚Üê –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å */
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover; /* –∏–ª–∏ contain */
    filter: brightness(0.55);
    z-index: -1;
}

/* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —Å –∫–Ω–æ–ø–∫–æ–π */
.content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 20;
    text-align: center;
}

h1 {
    margin: 0 0 12px 0;
    font-size: 28px;
    text-shadow: 0 2px 6px rgba(0,0,0,0.7);
}

button#trustButton {
    background: #38a853;
    border: none;
    color: white;
    padding: 18px 34px;
    font-size: 22px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 6px 18px rgba(0,0,0,0.6);
}
button#trustButton:hover {
    transform: scale(1.05);
}

/* –í–∏–¥–µ–æ */
#videoWrapper {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 30;
    width: 90vw;
    max-width: 1100px;
}

#videoWrapper video {
    width: 100%;
    border-radius: 14px;
    box-shadow: 0 18px 60px rgba(0,0,0,0.7);
}

/* –°—Ç—Ä–µ–ª–∫–∏ */
.arrow-svg {
    position: absolute;
    left: 0;
    top: 0;
    transform-origin: 0 50%;
    pointer-events: none;
    z-index: var(--arrow-z);
    opacity: 0;
    transition: opacity 0.35s ease;
}
</style>
</head>

<body>
<div class="bg"></div>

<div class="content" id="mainContent">
    <h1>Trust me üòà</h1>
    <button id="trustButton" onclick="showVideo()">Trust me</button>
</div>

<div id="videoWrapper">
    <video id="prankVideo" autoplay muted playsinline></video>
</div>

<script>
/* ==== –ü–ê–†–ê–ú–ï–¢–†–´ ==== */
const CYCLE_MS = 2500;
const MIN_ARROWS = 3;
const MAX_ARROWS = 5;

const ARROW_MIN_THICK = 12;
const ARROW_MAX_THICK = 46;

const ARROW_MIN_HEAD = 28;
const ARROW_MAX_HEAD = 90;

/* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, —á—Ç–æ–±—ã —Å—Ç—Ä–µ–ª–∫–∞ –ù–ï –ø–æ–¥—Ö–æ–¥–∏–ª–∞ —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ —Ü–µ–Ω—Ç—Ä—É */
const ARROW_MARGIN = 160;   // ‚Üê –æ—Ç–æ–¥–≤–∏–Ω—É–ª –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –Ω–∞ ~2‚Äì3 —Å–º

let arrowInterval = null;

/* --- —Ä–∞–Ω–¥–æ–º --- */
function rand(min, max) { return min + Math.random() * (max - min); }
function randInt(min, max) { return Math.floor(rand(min, max+1)); }

/* —Ç–æ—á–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ –∫—Ä–∞—è–º —ç–∫—Ä–∞–Ω–∞ */
function pickSpawnPoint() {
    const w = window.innerWidth;
    const h = window.innerHeight;

    const choices = [
        {x: rand(0,w), y: 0},
        {x: w, y: rand(0,h)},
        {x: rand(0,w), y: h},
        {x: 0, y: rand(0,h)}
    ];

    return choices[randInt(0, choices.length-1)];
}

/* —Å–æ–∑–¥–∞—ë–º SVG —Å—Ç—Ä–µ–ª–∫—É */
function makeArrowSVG(sx, sy, cx, cy) {
    const dx = cx - sx;
    const dy = cy - sy;

    const dist = Math.hypot(dx, dy);
    const thickness = randInt(ARROW_MIN_THICK, ARROW_MAX_THICK);
    const headLen = randInt(ARROW_MIN_HEAD, ARROW_MAX_HEAD);

    const usable = Math.max(40, dist - ARROW_MARGIN);
    const shaftLen = Math.max(20, usable - headLen);

    const height = Math.max(thickness * 1.6, headLen * 0.8);
    const centerY = height / 2;

    const svgNS = "http://www.w3.org/2000/svg";
    const svg = document.createElementNS(svgNS, "svg");

    svg.classList.add("arrow-svg");
    svg.setAttribute("width", shaftLen + headLen + 4);
    svg.setAttribute("height", height + 4);

    svg.style.left = sx + "px";
    svg.style.top = sy + "px";

    /* outline */
    let out = document.createElementNS(svgNS, "rect");
    out.setAttribute("x", 0);
    out.setAttribute("y", centerY - thickness/2 - 2);
    out.setAttribute("width", shaftLen + 4);
    out.setAttribute("height", thickness + 4);
    out.setAttribute("rx", thickness/2 + 2);
    out.setAttribute("fill", "black");
    svg.appendChild(out);

    /* line */
    let line = document.createElementNS(svgNS, "rect");
    line.setAttribute("x", 2);
    line.setAttribute("y", centerY - thickness/2);
    line.setAttribute("width", shaftLen);
    line.setAttribute("height", thickness);
    line.setAttribute("rx", thickness/2);
    line.setAttribute("fill", "red");
    svg.appendChild(line);

    /* head */
    const headH = Math.max(thickness * 1.6, headLen * 0.8);
    const baseX = 2 + shaftLen;

    const p1 = `${baseX},${centerY - headH/2}`;
    const p2 = `${baseX + headLen},${centerY}`;
    const p3 = `${baseX},${centerY + headH/2}`;

    let headOut = document.createElementNS(svgNS, "polygon");
    headOut.setAttribute("points", `${p1} ${p2} ${p3}`);
    headOut.setAttribute("fill", "black");
    svg.appendChild(headOut);

    let head = document.createElementNS(svgNS, "polygon");
    head.setAttribute("points", `${p1} ${p2} ${p3}`);
    head.setAttribute("fill", "red");
    svg.appendChild(head);

    /* –ø–æ–≤–æ—Ä–æ—Ç */
    const angle = Math.atan2(dy, dx) * 180 / Math.PI;
    svg.style.transform = `rotate(${angle}deg)`;
    svg.style.transformOrigin = `0 ${centerY}px`;

    return svg;
}

/* —Å–æ–∑–¥–∞—ë–º –≤–æ–ª–Ω—É */
function spawnWave() {
    const btn = document.getElementById("trustButton");
    const rect = btn.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;

    const count = randInt(MIN_ARROWS, MAX_ARROWS);

    for (let i = 0; i < count; i++) {
        const p = pickSpawnPoint();
        const arrow = makeArrowSVG(p.x, p.y, cx, cy);

        document.body.appendChild(arrow);

        const delay = randInt(10, 220);

        setTimeout(() => arrow.style.opacity = "1", delay);
        setTimeout(() => arrow.style.opacity = "0", CYCLE_MS - 500 + delay);
        setTimeout(() => arrow.remove(), CYCLE_MS + 400 + delay);
    }
}

function startArrowLoop() {
    spawnWave();
    arrowInterval = setInterval(spawnWave, CYCLE_MS);
}

function clearAllArrows() {
    clearInterval(arrowInterval);
    document.querySelectorAll('.arrow-svg').forEach(a => a.remove());
}

/* –°—Ç–∞—Ä—Ç */
window.addEventListener("load", () => {
    setTimeout(startArrowLoop, 120);
});

/* –ü–æ–∫–∞–∑ –≤–∏–¥–µ–æ */
function showVideo() {
    clearAllArrows();

    document.getElementById("mainContent").style.display = "none";

    const wrap = document.getElementById("videoWrapper");
    wrap.style.display = "block";

    const vid = document.getElementById("prankVideo");
    vid.src = "video.mp4";

    vid.play().then(() => {
        setTimeout(() => {
            vid.muted = false;
            vid.play();
        }, 300);
    });
}
</script>

</body>
</html>
