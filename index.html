<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Trust me</title>
<style>

html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: Arial, sans-serif;
}

/* –§–û–ù ‚Äî —Ç–≤–æ–π background.png */
.bg {
    position: fixed;
    inset: 0;
    background-image: url("background.png");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(0.55);
    z-index: -1;
}

/* –í–∏–¥–µ–æ –ø–æ–≤–µ—Ä—Ö —Ñ–æ–Ω–∞ */
video {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
    z-index: -1;
}

/* –¶–µ–Ω—Ç—Ä */
.center-box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

h1 {
    color: white;
    font-size: 32px;
    margin-bottom: 20px;
}

button {
    padding: 15px 40px;
    font-size: 22px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    background: #32c34a;
    color: white;
    transition: 0.25s;
}

button:hover {
    background: #2baa40;
}

/* –°–¢–†–ï–õ–ö–ò */
.arrow {
    position: absolute;
    width: 140px;
    height: 140px;
    background: transparent;
    pointer-events: none;
    z-index: 10;
}

.arrow svg {
    width: 100%;
    height: 100%;
    transform-origin: center;
    filter: drop-shadow(0 0 3px black);
}

</style>
</head>
<body>

<div class="bg"></div>

<!-- –í–∏–¥–µ–æ -->
<video src="video.mp4" autoplay muted playsinline></video>
<script>
/* –†–∞–∑—Ä–µ—à–∞–µ–º –∑–≤—É–∫ —Å—Ä–∞–∑—É */
document.querySelector("video").muted = false;
document.querySelector("video").play();
</script>

<!-- –¶–µ–Ω—Ç—Ä -->
<div class="center-box">
    <h1>Trust me üòà</h1>
    <button id="trustBtn">Trust me</button>
</div>

<script>
const btn = document.getElementById("trustBtn");
const ARROW_MARGIN = 120; // —Å—Ç—Ä–µ–ª–∫–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∑–∞ ~3 —Å–º
const MIN_DISTANCE = 160; // —Å—Ç—Ä–µ–ª–∫–∏ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è
let arrows = [];

function createArrow() {
    const arrow = document.createElement("div");
    arrow.className = "arrow";

    // SVG —Å—Ç—Ä–µ–ª–∫–∏ —Å —á—ë—Ä–Ω–æ–π –æ–∫–∞–Ω—Ç–æ–≤–∫–æ–π
    arrow.innerHTML = `
        <svg viewBox="0 0 200 200">
            <polygon points="0,80 120,80 120,40 200,100 120,160 120,120 0,120"
                fill="red" stroke="black" stroke-width="8"/>
        </svg>
    `;

    document.body.appendChild(arrow);
    return arrow;
}

function getRandomSidePosition() {
    const side = Math.floor(Math.random() * 4);
    const w = window.innerWidth;
    const h = window.innerHeight;

    switch (side) {
        case 0: return { x: Math.random() * w, y: -50 };        // —Å–≤–µ—Ä—Ö—É
        case 1: return { x: w + 50, y: Math.random() * h };      // —Å–ø—Ä–∞–≤–∞
        case 2: return { x: Math.random() * w, y: h + 50 };      // —Å–Ω–∏–∑—É
        case 3: return { x: -50, y: Math.random() * h };         // —Å–ª–µ–≤–∞
    }
}

function arrowsTooClose(x, y) {
    for (const a of arrows) {
        const dx = a.x - x;
        const dy = a.y - y;
        if (Math.sqrt(dx*dx + dy*dy) < MIN_DISTANCE) return true;
    }
    return false;
}

function spawnArrows() {
    const rect = btn.getBoundingClientRect();
    const targetX = rect.left + rect.width / 2;
    const targetY = rect.top + rect.height / 2;

    arrows = [];

    const count = 3 + Math.floor(Math.random() * 3); // 3‚Äì5 —Å—Ç—Ä–µ–ª–æ–∫

    for (let i = 0; i < count; i++) {
        let pos;
        let tries = 0;

        do {
            pos = getRandomSidePosition();
            tries++;
            if (tries > 20) break;
        } while (arrowsTooClose(pos.x, pos.y));

        const arrow = createArrow();
        arrow.style.left = pos.x + "px";
        arrow.style.top = pos.y + "px";

        arrow.x = pos.x;
        arrow.y = pos.y;

        const dx = targetX - pos.x;
        const dy = targetY - pos.y;
        const angle = Math.atan2(dy, dx) * 180 / Math.PI;

        arrow.querySelector("svg").style.transform = `rotate(${angle}deg)`;

        arrows.push(arrow);

        // –î–≤–∏–∂–µ–Ω–∏–µ
        let progress = 0;
        const speed = 0.0035 + Math.random()*0.001;

        function animate() {
            progress += speed;

            const distX = dx * progress;
            const distY = dy * progress;

            const currentX = pos.x + distX;
            const currentY = pos.y + distY;

            const distanceToBtn = Math.hypot(targetX - currentX, targetY - currentY);

            if (distanceToBtn > ARROW_MARGIN) {
                arrow.style.left = currentX + "px";
                arrow.style.top = currentY + "px";
                requestAnimationFrame(animate);
            }
        }
        animate();
    }
}

spawnArrows();
setInterval(spawnArrows, 3000);
</script>

</body>
</html>

